<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edmore Academy</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&family=Lato&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <!-- NAVBAR -->
 <nav class="navbar">
  <div class="logo-section">
    <img src="logo.png" alt="Edmore Academy Logo" class="logo" />
    <div class="title-text">
      <h1 data-en="Edmore Academy" data-zh="çˆ±å¾·è’™å­¦é™¢">Edmore Academy</h1>
      <p data-en="Counseling, tutoring, and courses" 
         data-zh="å‡å­¦å’¨è¯¢ãƒ»ä¸ªæ€§è¾…å¯¼ãƒ»å­¦æœ¯è¯¾ç¨‹ãƒ»ç•™å­¦ç”³è¯·">
         Counseling, tutoring, courses, and College Applications
      </p>
    </div>
  </div>

  <!-- ğŸŒŸ Hamburger menu for mobile -->
  <div class="hamburger" onclick="toggleMenu()">â˜°</div>

  <!-- ğŸŒŸ Navigation links -->
  <div class="nav-links">
      <a href="index.html" class="active" data-en="Home" data-zh="é¦–é¡µ">Home</a>
      <a href="about.html" data-en="About" data-zh="å…³äºæˆ‘ä»¬">About</a>
      <a href="courses.html" data-en="Courses" data-zh="è¯¾ç¨‹">Courses</a>
      <a href="signup.html" data-en="Signup" data-zh="æŠ¥å">Signup</a>
      <a href="gallery.html" data-en="Gallery" data-zh="ç›¸å†Œ">Gallery</a>
      <a href="#" class="login-btn" data-en="Log In" data-zh="ç™»å½•">Log In</a>
      <a href="#" id="lang-toggle" class="lang-toggle">ä¸­æ–‡</a>
  </div>
</nav>




<!-- HERO SECTION (Parallax Scroll Effect) -->
<section class="hero-banner" 
  style="
    position: relative;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: white;
    background: 
      linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),
      url('students.jpeg') center/cover no-repeat fixed;
    overflow: hidden;
  ">
  
  <div class="hero-content" 
       style="position: relative; z-index: 2; max-width: 800px; padding: 0 20px;">
    <h2 style="font-size: 3.5rem; color: #ff6600; font-family: 'Poppins', sans-serif;">
      Edmore Academy
    </h2>
    <p style="font-size: 1.2rem; margin: 20px 0;">
      Where learning meets inspiration â€” discover your potential through our personalized counseling and tutoring programs.
    </p>
    <a href="courses.html" 
       class="cta-btn"
       style="
         background-color: #ff6600;
         color: #0d1b2a;
         font-weight: 700;
         padding: 12px 25px;
         border-radius: 6px;
         text-decoration: none;
         transition: 0.3s;
       "
       onmouseover="this.style.backgroundColor='#ffe073';"
       onmouseout="this.style.backgroundColor='#ff6600';">
       Explore Courses
    </a>
  </div>
</section>

<!-- AUTO-VISUALIZATION SECTION (Parallax with arrows + manual change) -->
<!-- AUTO-VISUALIZATION SECTION (Parallax with arrows + manual change) -->
<section id="auto-visualization"
  style="
    position: relative;
    text-align: center;
    color: white;
    padding: 120px 0;
    background: url('students.jpeg') center/cover fixed;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  ">
  
  <!-- Overlay for better contrast -->
  <div style="
      position: absolute;
      inset: 0;
      background: rgba(26, 35, 51, 0.7);
      z-index: 0;
  "></div>

  <div style="position: relative; z-index: 1;">
    <h2 style="font-family:'Poppins',sans-serif; margin-bottom:20px;">
      2026 USNews ç¾å›½å¤§å­¦æ•°æ®å¯è§†åŒ–
    </h2>
    
    <!-- Graph Container -->
    <div style="position: relative; display: inline-block;">
      <button id="prevGraph" 
        style="
          position: absolute; 
          left: -60px; 
          top: 50%;
          transform: translateY(-50%);
          background: rgba(255,255,255,0.2);
          color: #fff;
          border: none;
          font-size: 2rem;
          border-radius: 50%;
          width: 45px;
          height: 45px;
          cursor: pointer;
          transition: background 0.3s;
        "
        onmouseover="this.style.background='rgba(255,255,255,0.4)'"
        onmouseout="this.style.background='rgba(255,255,255,0.2)'">â¬…</button>

      <div id="graph" style="width:80vw; max-width:1100px; height:70vh; margin:auto; border-radius:10px; background:#1a2333;"></div>

      <button id="nextGraph" 
        style="
          position: absolute; 
          right: -60px; 
          top: 50%;
          transform: translateY(-50%);
          background: rgba(255,255,255,0.2);
          color: #fff;
          border: none;
          font-size: 2rem;
          border-radius: 50%;
          width: 45px;
          height: 45px;
          cursor: pointer;
          transition: background 0.3s;
        "
        onmouseover="this.style.background='rgba(255,255,255,0.4)'"
        onmouseout="this.style.background='rgba(255,255,255,0.2)'">â¡</button>
    </div>

    <p id="graphTitle" style="margin-top:15px; color:#eee; font-size:1.2rem;">
      Loadingâ€¦
    </p>
  </div>
</section>

<!-- Plotly.js -->
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

<script>
  /* ===============================
     1. REAL USNEWS DATA (TOP 50)
     =============================== */

  const uniData = [
    {"rank":1,"name_cn":"æ™®æ—æ–¯é¡¿å¤§å­¦","name_en":"Princeton University","state_cn":"æ–°æ³½è¥¿å·","tuition":59710,"intl_pct":23.74},
    {"rank":2,"name_cn":"éº»çœç†å·¥å­¦é™¢","name_en":"Massachusetts Institute of Technology","state_cn":"é©¬è¨è¯¸å¡å·","tuition":60156,"intl_pct":29.40},
    {"rank":3,"name_cn":"å“ˆä½›å¤§å­¦","name_en":"Harvard University","state_cn":"é©¬è¨è¯¸å¡å·","tuition":59076,"intl_pct":25.92},
    {"rank":4,"name_cn":"æ–¯å¦ç¦å¤§å­¦","name_en":"Stanford University","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":62484,"intl_pct":25.13},
    {"rank":5,"name_cn":"è€¶é²å¤§å­¦","name_en":"Yale University","state_cn":"åº·æ¶…ç‹„æ ¼å·","tuition":64700,"intl_pct":23.63},
    {"rank":6,"name_cn":"èŠåŠ å“¥å¤§å­¦","name_en":"University of Chicago","state_cn":"ä¼Šåˆ©è¯ºä¼Šå·","tuition":65619,"intl_pct":30.69},
    {"rank":7,"name_cn":"æœå…‹å¤§å­¦","name_en":"Duke University","state_cn":"åŒ—å¡ç½—æ¥çº³å·","tuition":65805,"intl_pct":25.44},
    {"rank":8,"name_cn":"çº¦ç¿°éœæ™®é‡‘æ–¯å¤§å­¦","name_en":"Johns Hopkins University","state_cn":"é©¬é‡Œå…°å·","tuition":65129,"intl_pct":25.69},
    {"rank":9,"name_cn":"è¥¿åŒ—å¤§å­¦","name_en":"Northwestern University","state_cn":"ä¼Šåˆ©è¯ºä¼Šå·","tuition":62840,"intl_pct":21.57},
    {"rank":10,"name_cn":"å®¾å¤•æ³•å°¼äºšå¤§å­¦","name_en":"University of Pennsylvania","state_cn":"å®¾å¤•æ³•å°¼äºšå·","tuition":65828,"intl_pct":21.24},
    {"rank":11,"name_cn":"åŠ å·ç†å·¥å­¦é™¢","name_en":"California Institute of Technology","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":65154,"intl_pct":25.00},
    {"rank":12,"name_cn":"è¾¾ç‰¹èŒ…æ–¯å­¦é™¢","name_en":"Dartmouth College","state_cn":"æ–°ç½•å¸ƒä»€å°”å·","tuition":65997,"intl_pct":17.00},
    {"rank":13,"name_cn":"å¸ƒæœ—å¤§å­¦","name_en":"Brown University","state_cn":"ç½—å¾·å²›å·","tuition":68816,"intl_pct":17.36},
    {"rank":14,"name_cn":"èŒƒå¾·å ¡å¤§å­¦","name_en":"Vanderbilt University","state_cn":"ç”°çº³è¥¿å·","tuition":61988,"intl_pct":10.22},
    {"rank":15,"name_cn":"åœ£è·¯æ˜“æ–¯åç››é¡¿å¤§å­¦","name_en":"Washington University in St. Louis","state_cn":"å¯†è‹é‡Œå·","tuition":62782,"intl_pct":17.43},
    {"rank":16,"name_cn":"å“¥ä¼¦æ¯”äºšå¤§å­¦","name_en":"Columbia University","state_cn":"çº½çº¦å·","tuition":69144,"intl_pct":27.37},
    {"rank":17,"name_cn":"åº·å¥ˆå°”å¤§å­¦","name_en":"Cornell University","state_cn":"çº½çº¦å·","tuition":66972,"intl_pct":22.01},
    {"rank":18,"name_cn":"è±æ–¯å¤§å­¦","name_en":"Rice University","state_cn":"å¾—å…‹è¨æ–¯å·","tuition":57910,"intl_pct":27.70},
    {"rank":19,"name_cn":"åŠ å·å¤§å­¦æ´›æ‰çŸ¶åˆ†æ ¡","name_en":"University of California, Los Angeles","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":47807,"intl_pct":12.58},
    {"rank":20,"name_cn":"åœ£æ¯å¤§å­¦","name_en":"University of Notre Dame","state_cn":"å°ç¬¬å®‰çº³å·","tuition":62047,"intl_pct":8.53},
    {"rank":21,"name_cn":"åŸƒé»˜é‡Œå¤§å­¦","name_en":"Emory University","state_cn":"ä½æ²»äºšå·","tuition":59276,"intl_pct":18.52},
    {"rank":22,"name_cn":"ä¹”æ²»åŸå¤§å­¦","name_en":"Georgetown University","state_cn":"åç››é¡¿ç‰¹åŒº","tuition":65308,"intl_pct":14.24},
    {"rank":23,"name_cn":"å¯†æ­‡æ ¹å¤§å­¦å®‰å¨œå ¡åˆ†æ ¡","name_en":"University of Michiganâ€“Ann Arbor","state_cn":"å¯†æ­‡æ ¹å·","tuition":59112,"intl_pct":8.00},
    {"rank":24,"name_cn":"å¡è€åŸºæ¢…éš†å¤§å­¦","name_en":"Carnegie Mellon University","state_cn":"å®¾å¤•æ³•å°¼äºšå·","tuition":65808,"intl_pct":28.51},
    {"rank":25,"name_cn":"çº½çº¦å¤§å­¦","name_en":"New York University","state_cn":"çº½çº¦å·","tuition":62062,"intl_pct":20.36},
    {"rank":26,"name_cn":"åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡","name_en":"University of California, Berkeley","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":48896,"intl_pct":16.77},
    {"rank":27,"name_cn":"å¼—å‰å°¼äºšå¤§å­¦","name_en":"University of Virginia","state_cn":"å¼—å‰å°¼äºšå·","tuition":58750,"intl_pct":6.32},
    {"rank":28,"name_cn":"ç»´å…‹æ£®æ—å¤§å­¦","name_en":"Wake Forest University","state_cn":"åŒ—å¡ç½—æ¥çº³å·","tuition":67462,"intl_pct":10.10},
    {"rank":29,"name_cn":"åŒ—å¡ç½—æ¥çº³å¤§å­¦æ•™å ‚å±±åˆ†æ ¡","name_en":"University of North Carolina at Chapel Hill","state_cn":"åŒ—å¡ç½—æ¥çº³å·","tuition":39038,"intl_pct":4.95},
    {"rank":30,"name_cn":"å¡”å¤«èŒ¨å¤§å­¦","name_en":"Tufts University","state_cn":"é©¬è¨è¯¸å¡å·","tuition":69050,"intl_pct":15.83},
    {"rank":31,"name_cn":"æ³¢å£«é¡¿å­¦é™¢","name_en":"Boston College","state_cn":"é©¬è¨è¯¸å¡å·","tuition":70060,"intl_pct":8.92},
    {"rank":32,"name_cn":"åŠ å·å¤§å­¦åœ£å¡”èŠ­èŠ­æ‹‰åˆ†æ ¡","name_en":"University of California, Santa Barbara","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":50043,"intl_pct":14.06},
    {"rank":33,"name_cn":"ä½›ç½—é‡Œè¾¾å¤§å­¦","name_en":"University of Florida","state_cn":"ä½›ç½—é‡Œè¾¾å·","tuition":28658,"intl_pct":6.21},
    {"rank":34,"name_cn":"ç½—åˆ‡æ–¯ç‰¹å¤§å­¦","name_en":"University of Rochester","state_cn":"çº½çº¦å·","tuition":65870,"intl_pct":26.12},
    {"rank":35,"name_cn":"åŠ å·å¤§å­¦åœ£åœ°äºšå“¥åˆ†æ ¡","name_en":"University of California, San Diego","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":50051,"intl_pct":22.16},
    {"rank":36,"name_cn":"æ³¢å£«é¡¿å¤§å­¦","name_en":"Boston University","state_cn":"é©¬è¨è¯¸å¡å·","tuition":67304,"intl_pct":24.56},
    {"rank":37,"name_cn":"åŠ å·å¤§å­¦æˆ´ç»´æ–¯åˆ†æ ¡","name_en":"University of California, Davis","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":49385,"intl_pct":13.79},
    {"rank":38,"name_cn":"å¨å»‰ä¸ç›ä¸½å­¦é™¢","name_en":"William & Mary","state_cn":"å¼—å‰å°¼äºšå·","tuition":48293,"intl_pct":8.15},
    {"rank":39,"name_cn":"åŠ å·å¤§å­¦æ¬§æ–‡åˆ†æ ¡","name_en":"University of California, Irvine","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":49597,"intl_pct":22.27},
    {"rank":40,"name_cn":"å¨æ–¯åº·æ˜Ÿå¤§å­¦éº¦è¿ªé€Šåˆ†æ ¡","name_en":"University of Wisconsinâ€“Madison","state_cn":"å¨æ–¯åº·æ˜Ÿå·","tuition":40473,"intl_pct":8.70},
    {"rank":41,"name_cn":"åˆ©å“ˆä¼Šå¤§å­¦","name_en":"Lehigh University","state_cn":"å®¾å¤•æ³•å°¼äºšå·","tuition":63085,"intl_pct":10.68},
    {"rank":42,"name_cn":"å‡¯æ–¯è¥¿å‚¨å¤§å­¦","name_en":"Case Western Reserve University","state_cn":"ä¿„äº¥ä¿„å·","tuition":61928,"intl_pct":16.26},
    {"rank":43,"name_cn":"ä¸œåŒ—å¤§å­¦","name_en":"Northeastern University","state_cn":"é©¬è¨è¯¸å¡å·","tuition":64797,"intl_pct":21.64},
    {"rank":44,"name_cn":"æœå…°å¤§å­¦","name_en":"Tulane University","state_cn":"è·¯æ˜“æ–¯å®‰é‚£å·","tuition":66682,"intl_pct":10.73},
    {"rank":45,"name_cn":"ä¼Šåˆ©è¯ºä¼Šå¤§å­¦å„æœ¬é‚£é¦™æ§Ÿåˆ†æ ¡","name_en":"University of Illinois Urbana-Champaign","state_cn":"ä¼Šåˆ©è¯ºä¼Šå·","tuition":40351,"intl_pct":15.56},
    {"rank":46,"name_cn":"ä¿„äº¥ä¿„å·ç«‹å¤§å­¦å“¥ä¼¦å¸ƒåˆ†æ ¡","name_en":"Ohio State Universityâ€“Columbus","state_cn":"ä¿„äº¥ä¿„å·","tuition":38365,"intl_pct":7.11},
    {"rank":47,"name_cn":"åç››é¡¿å¤§å­¦","name_en":"University of Washington","state_cn":"åç››é¡¿å·","tuition":42852,"intl_pct":16.02},
    {"rank":48,"name_cn":"åŠ å·å¤§å­¦åœ£å¡”å…‹é²å…¹åˆ†æ ¡","name_en":"University of California, Santa Cruz","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":49550,"intl_pct":12.77},
    {"rank":49,"name_cn":"åŠ å·å¤§å­¦åœ£å¡”å…‹é²å…¹åˆ†æ ¡å¼—é›·æ–¯è¯º? (å ä½)","name_en":"(Placeholder)","state_cn":"åŠ åˆ©ç¦å°¼äºšå·","tuition":49550,"intl_pct":12.77},
    {"rank":50,"name_cn":"å®¾å·å·ç«‹å¤§å­¦å¤§å­¦å›­æ ¡åŒº","name_en":"Pennsylvania State Universityâ€“University Park","state_cn":"å®¾å¤•æ³•å°¼äºšå·","tuition":39812,"intl_pct":10.48}
  ];

  /* ===============================
     2. STATE â†’ LAT/LON (rough centroids)
     =============================== */

  const stateCoords = {
    "åŠ åˆ©ç¦å°¼äºšå·": {lat: 36.5, lon: -119.5},
    "é©¬è¨è¯¸å¡å·": {lat: 42.3, lon: -71.8},
    "æ–°æ³½è¥¿å·": {lat: 40.1, lon: -74.7},
    "é©¬é‡Œå…°å·": {lat: 39.0, lon: -76.7},
    "çº½çº¦å·": {lat: 43.0, lon: -75.0},
    "åº·æ¶…ç‹„æ ¼å·": {lat: 41.6, lon: -72.7},
    "ä¼Šåˆ©è¯ºä¼Šå·": {lat: 40.0, lon: -89.0},
    "åŒ—å¡ç½—æ¥çº³å·": {lat: 35.5, lon: -79.0},
    "å®¾å¤•æ³•å°¼äºšå·": {lat: 41.0, lon: -77.5},
    "æ–°ç½•å¸ƒä»€å°”å·": {lat: 43.2, lon: -71.6},
    "ç½—å¾·å²›å·": {lat: 41.7, lon: -71.5},
    "ç”°çº³è¥¿å·": {lat: 36.0, lon: -86.7},
    "å¯†è‹é‡Œå·": {lat: 38.5, lon: -92.5},
    "å¾—å…‹è¨æ–¯å·": {lat: 31.0, lon: -99.0},
    "å°ç¬¬å®‰çº³å·": {lat: 40.0, lon: -86.0},
    "ä½æ²»äºšå·": {lat: 32.7, lon: -83.5},
    "ä½›ç½—é‡Œè¾¾å·": {lat: 27.8, lon: -82.7},
    "å¼—å‰å°¼äºšå·": {lat: 37.5, lon: -78.8},
    "åç››é¡¿å·": {lat: 47.4, lon: -120.5},
    "å¯†æ­‡æ ¹å·": {lat: 44.2, lon: -84.7},
    "ä¿„äº¥ä¿„å·": {lat: 40.3, lon: -82.8},
    "å¨æ–¯åº·æ˜Ÿå·": {lat: 44.5, lon: -89.5},
    "è·¯æ˜“æ–¯å®‰é‚£å·": {lat: 31.0, lon: -92.0},
    "åç››é¡¿ç‰¹åŒº": {lat: 38.9, lon: -77.0}
  };

  /* ===============================
     3. BUILD FOUR GRAPHS
     =============================== */

  function buildMapTrace() {
  const lat = [], lon = [], text = [];

  uniData.forEach(u => {
    const base = stateCoords[u.state_cn];
    if (!base) return;

    // small jitter so multiple schools in same state don't overlap
    const jitterLat = base.lat + (Math.random() * 0.8 - 0.4);
    const jitterLon = base.lon + (Math.random() * 0.8 - 0.4);

    lat.push(jitterLat);
    lon.push(jitterLon);

    text.push(
      `${u.rank}. ${u.name_en}<br>${u.name_cn}<br>${u.state_cn}<br>
       Tuition: $${u.tuition.toLocaleString()}<br>
       Intl: ${u.intl_pct}%`
    );
  });

  return {
    data: [{
      type: 'scattergeo',
      mode: 'markers',
      lat,
      lon,
      text,
      marker: {
  size: new Array(lat.length).fill(13),       // start invisible
  color: "rgb(0, 170, 255)",                 // solid blue (comfortable blue)
  opacity: 0.95,
  line: { width: 0 }
}


    }],
    layout: {
      geo: {
        scope: 'usa',
        projection: { type: 'albers usa' },
        bgcolor: '#1a2333',
        showland: true,
        landcolor: '#1a2333',
        subunitcolor: '#3d4c63',
        countrycolor: '#3d4c63'
      },
      margin: { t: 0, b: 0, l: 0, r: 0 },
      paper_bgcolor: '#1a2333',
      plot_bgcolor: '#1a2333'
    },
    title: 'Top 50 Universities â€“ US Map'
  };
}


  function buildRankTuition() {
    const x = uniData.map(u => u.rank);
    const y = uniData.map(u => u.tuition);
    const text = uniData.map(u => `${u.rank}. ${u.name_en}<br>${u.name_cn}<br>Tuition: $${u.tuition.toLocaleString()}`);
    return {
      data: [{
        x, y, text,
        mode: 'markers',
        type: 'scatter',
        marker: {
          size: 10,
          color: y,
          colorscale: 'Portland',
          showscale: true
        }
      }],
      layout: {
        xaxis: {title: 'Rank (1 = best)', color: '#ccc', gridcolor: '#333'},
        yaxis: {title: 'Tuition (USD)', color: '#ccc', gridcolor: '#333'},
        paper_bgcolor: '#1a2333',
        plot_bgcolor: '#1a2333',
        margin: {t: 40, b: 60, l: 80, r: 20}
      },
      title: 'Rank vs Tuition'
    };
  }

  function buildRankIntl() {
    const x = uniData.map(u => u.rank);
    const y = uniData.map(u => u.intl_pct);
    const text = uniData.map(u => `${u.rank}. ${u.name_en}<br>${u.name_cn}<br>Intl Students: ${u.intl_pct}%`);
    return {
      data: [{
        x, y, text,
        mode: 'markers',
        type: 'scatter',
        marker: {
          size: 10,
          color: y,
          colorscale: 'Viridis',
          showscale: true
        }
      }],
      layout: {
        xaxis: {title: 'Rank', color: '#ccc', gridcolor: '#333'},
        yaxis: {title: 'International Student %', color: '#ccc', gridcolor: '#333', range: [0, 40]},
        paper_bgcolor: '#1a2333',
        plot_bgcolor: '#1a2333',
        margin: {t: 40, b: 60, l: 80, r: 20}
      },
      title: 'Rank vs International Student %'
    };
  }

  function buildTopTuitionBar() {
    const top = [...uniData].sort((a,b) => b.tuition - a.tuition).slice(0, 20);
    return {
      data: [{
        x: top.map(u => `${u.rank}. ${u.name_en}`),
        y: top.map(u => u.tuition),
        text: top.map(u => `$${u.tuition.toLocaleString()}`),
        type: 'bar'
      }],
      layout: {
        xaxis: {title: 'University', color: '#ccc', tickangle: -45},
        yaxis: {title: 'Tuition (USD)', color: '#ccc'},
        paper_bgcolor: '#1a2333',
        plot_bgcolor: '#1a2333',
        margin: {t: 40, b: 120, l: 80, r: 20}
      },
      title: 'Top 20 by Tuition'
    };
  }

  const graphConfigs = [
    buildRankTuition(),
    buildMapTrace(),
    buildTopTuitionBar(),
    buildRankIntl()
    
  ];

  /* ===============================
     4. RENDER + ARROWS + AUTO CYCLE
     =============================== */

  const graphDiv = document.getElementById('graph');
  const titleEl = document.getElementById('graphTitle');
  let currentIndex = 0;

  function showGraph(index) {
    const g = graphConfigs[index];
    Plotly.newPlot(graphDiv, g.data, g.layout, {displayModeBar: false});
    // POP-IN ANIMATION for map dots
if (g.title.includes("Map")) {
  const frames = [];

  for (let s = 0; s <= 20; s++) {
    frames.push({
      data: [{
        marker: {
          size: new Array(g.data[0].lat.length).fill(s)  // grow all dots
        }
      }]
    });
  }

  Plotly.animate(graphDiv, frames, {
    transition: {duration: 0},
    frame: {duration: 40, redraw: false}
  });
}

    
    titleEl.textContent = g.title;
  }

  // initial
  showGraph(currentIndex);

  document.getElementById('nextGraph').addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % graphConfigs.length;
    showGraph(currentIndex);
  });

  document.getElementById('prevGraph').addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + graphConfigs.length) % graphConfigs.length;
    showGraph(currentIndex);
  });

  // Auto-rotate every 12 seconds
  setInterval(() => {
    currentIndex = (currentIndex + 1) % graphConfigs.length;
    showGraph(currentIndex);
  }, 6000);
</script>



<!-- STATS SECTION (One-row, Elegant & Responsive) -->
<section class="stats-section" 
  style="
    background: linear-gradient(180deg, #f9fafc 0%, #eef3f7 100%);
    padding: 80px 5%;
    text-align: center;
    font-family: 'Poppins', sans-serif;
  ">

  <div style="
    max-width: 1300px; 
    margin: auto; 
    display: flex; 
    justify-content: space-between; 
    flex-wrap: wrap;
    align-items: center;
    gap: 40px;
  ">

    <div class="stat" style="flex: 1 1 150px; min-width: 150px;">
      <h3 style="color:#1e3a5f; font-size:2.5rem; margin:0;">
        <span class="counter" data-target="31">0</span>+
      </h3>
      <p style="color:#333; margin-top:8px;">
        Years of Excellence<br><span style="color:#777;">å¤šå¹´æ•™å­¦ç»éªŒ</span>
      </p>
    </div>

    <div class="stat" style="flex: 1 1 150px; min-width: 150px;">
      <h3 style="color:#1e3a5f; font-size:2.5rem; margin:0;">
        <span class="counter" data-target="38">0</span>+
      </h3>
      <p style="color:#333; margin-top:8px;">
        Expert Tutors<br><span style="color:#777;">ä¸“ä¸šå¯¼å¸ˆå›¢é˜Ÿ</span>
      </p>
    </div>

    

    <div class="stat" style="flex: 1 1 150px; min-width: 150px;">
      <h3 style="color:#1e3a5f; font-size:2.5rem; margin:0;">
        <span class="counter" data-target="1877">0</span>+
      </h3>
      <p style="color:#333; margin-top:8px;">
        Offers Earned<br><span style="color:#777;">å½•å–é€šçŸ¥ä¹¦</span>
      </p>
    </div>

    <div class="stat" style="flex: 1 1 150px; min-width: 150px;">
      <h3 style="color:#1e3a5f; font-size:2.5rem; margin:0;">
        <span class="counter" data-target="318">0</span>+
      </h3>
      <p style="color:#333; margin-top:8px;">
        Top 50 Offers<br><span style="color:#777;">ä¸–ç•Œåæ ¡å½•å–</span>
      </p>
    </div>

    

    

  </div>
</section>

<!-- Counter animation -->
  <script>
    const counters = document.querySelectorAll('.counter');
    const speed = 200;
    const animateCounters = () => {
      counters.forEach(counter => {
        const update = () => {
          const target = +counter.getAttribute('data-target');
          const count = +counter.innerText;
          const increment = target / speed;
          if (count < target) {
            counter.innerText = Math.ceil(count + increment);
            requestAnimationFrame(update);
          } else {
            counter.innerText = target;
          }
        };
        update();
      });
    };

    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounters();
          observer.disconnect();
        }
      });
    });
    observer.observe(document.querySelector('.stats-section'));
  </script>



  <!-- FEATURE CARDS SECTION -->
  <section class="program-section">
    <div class="program-container">
      <div class="program-card blue">
        <img src="logo.png" alt="Undergraduate Icon">
        <div class="text">
          <h4 data-en="Undergraduate Direct Admission" data-zh="æœ¬ç§‘ç›´å½•">æœ¬ç§‘ç›´å½•</h4>
          <p data-en="Partner schools guarantee admission with flexible or no score requirements â€” fast offer results."
             data-zh="åˆä½œå­¦æ ¡ç¡®ä¿å½•å–æ–¹æ¡ˆï¼Œé™ä½æˆ–æ— å›ºå®šæˆç»©è¦æ±‚ï¼Œå¯å¿«é€Ÿå‡ºå½•å–ã€‚">
             åˆä½œå­¦æ ¡ç¡®ä¿å½•å–æ–¹æ¡ˆï¼Œé™ä½æˆ–æ— å›ºå®šæˆç»©è¦æ±‚ï¼Œå¯å¿«é€Ÿå‡ºå½•å–ã€‚
          </p>
        </div>
      </div>

      <div class="program-card red">
        <img src="logo.png" alt="Graduate Icon">
        <div class="text">
          <h4 data-en="Graduate Direct Admission" data-zh="ç ”ç©¶ç”Ÿç›´å½•">ç ”ç©¶ç”Ÿç›´å½•</h4>
          <p data-en="Guaranteed masterâ€™s admission through partner universities with fast-track approval."
             data-zh="åˆä½œå­¦æ ¡/é¡¹ç›®ç¡®ä¿å½•å–æ–¹æ¡ˆï¼Œé™ä½æˆ–æ— å›ºå®šæˆç»©è¦æ±‚ï¼Œå¯å¿«é€Ÿå‡ºå½•å–ã€‚">
             åˆä½œå­¦æ ¡/é¡¹ç›®ç¡®ä¿å½•å–æ–¹æ¡ˆï¼Œé™ä½æˆ–æ— å›ºå®šæˆç»©è¦æ±‚ï¼Œå¯å¿«é€Ÿå‡ºå½•å–ã€‚
          </p>
        </div>
      </div>

      <div class="program-card yellow">
        <img src="logo.png" alt="Transfer Icon">
        <div class="text">
          <h4 data-en="1+2 Transfer Pathway" data-zh="è½¬å­¦ç›´è¾¾1+2">è½¬å­¦ç›´è¾¾1+2</h4>
          <p data-en="Early completion of transfer requirements with full guidance to top universities."
             data-zh="æå‰å®Œæˆè½¬å­¦è¯¾ç¨‹è¦æ±‚ï¼Œå…¨ç¨‹è¾…å¯¼ï¼Œç¡®ä¿è½¬å…¥åæ ¡ã€‚">
             æå‰å®Œæˆè½¬å­¦è¯¾ç¨‹è¦æ±‚ï¼Œå…¨ç¨‹è¾…å¯¼ï¼Œç¡®ä¿è½¬å…¥åæ ¡ã€‚
          </p>
        </div>
      </div>

      <div class="program-card teal">
        <img src="logo.png" alt="UC Program Icon">
        <div class="text">
          <h4 data-en="UC 2+2 Program" data-zh="UCï¼ˆåŠ å·å¤§å­¦ï¼‰2+2">UCï¼ˆåŠ å·å¤§å­¦ï¼‰2+2</h4>
          <p data-en="Guaranteed transfer from community college to UC campuses including UCB, UCLA, UCSD, and more."
             data-zh="CCè½¬å­¦è‡³UCBã€UCLAã€UCIã€UCSDã€UCSBã€UCDã€UCRç¡®ä¿å½•å–æ–¹æ¡ˆã€‚">
             CCè½¬å­¦è‡³UCBã€UCLAã€UCIã€UCSDã€UCSBã€UCDã€UCRç¡®ä¿å½•å–æ–¹æ¡ˆã€‚
          </p>
        </div>
      </div>
    </div>
  </section>


  <!-- CONTACT US -->
<!-- CONTACT US -->
<section id="contact" class="contact-section">
  <h2>Contact Us è”ç³»æˆ‘ä»¬</h2>

  <form id="contactForm">
    <div class="row">
      <div class="field">
        <label for="firstName">First Name å</label>
        <input id="firstName" name="firstName" type="text" />
      </div>
      <div class="field">
        <label for="lastName">Last Name å§“</label>
        <input id="lastName" name="lastName" type="text" />
      </div>
    </div>


    <div class="field required">
      <label for="email">Email é‚®ç®± *</label>
      <input id="email" name="email" type="email" required />
    </div>

    <div class="field">
      <label for="subject">Subject(s) ä¸»é¢˜</label>
      <input id="subject" name="subject" type="text" />
    </div>

    <div class="field">
      <label for="message">Leave us a message... ç»™æˆ‘ä»¬ç•™è¨€</label>
      <textarea id="message" name="message" rows="5"></textarea>
    </div>

    <button type="submit" class="submit-btn">Submit æäº¤</button>
  </form>

  <div class="contact-info">
    <p><strong>ğŸ“§ Email:</strong> edmore.usoffice@gmail.com</p>
    <p><strong>ğŸ“ Phone:</strong> +1 626-503-8082</p>
    <p><strong>ğŸŒ Website:</strong> <a href="https://edmoreacademy.com" target="_blank">edmoreacademy.com</a></p>
    <p><strong>ğŸ« Address:</strong> 155 North Riverview Drive, Anaheim, CA 92808</p>
    <p><strong>ğŸ« Address:</strong> 572 N Diamond Bar Blvd, Diamond Bar, CA 91765</p>
  </div>
</section>



  <!-- BOOKSHELF AT THE BOTTOM -->
  <section class="bottom-image">
    <img src="bookshelf.png" alt="Bookshelf" class="bookshelf-img">
  </section>

  <!-- SCRIPT -->
  <script>
    // âœ… Stats counter animation
    const counters = document.querySelectorAll('.counter');
    const speed = 200;
    const animateCounters = () => {
      counters.forEach(counter => {
        const updateCount = () => {
          const target = +counter.getAttribute('data-target');
          const count = +counter.innerText;
          const increment = target / speed;
          if (count < target) {
            counter.innerText = Math.ceil(count + increment);
            requestAnimationFrame(updateCount);
          } else {
            counter.innerText = target;
          }
        };
        updateCount();
      });
    };
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounters();
          observer.disconnect();
        }
      });
    });
    observer.observe(document.querySelector('.stats-section'));

    // ğŸŒ Language toggle system
    let currentLang = 'en';
    function switchLanguage() {
      currentLang = currentLang === 'en' ? 'zh' : 'en';
      document.querySelectorAll('[data-en]').forEach(el => {
        // Allow HTML inside tags like <span>
        el.innerHTML = el.getAttribute(`data-${currentLang}`);
      });
      document.getElementById('lang-toggle').textContent =
        currentLang === 'en' ? 'ä¸­æ–‡' : 'EN';
    }
    // initialize
    document.getElementById('lang-toggle').addEventListener('click', e => {
      e.preventDefault();
      switchLanguage();
    });
  </script>

  

<!-- ğŸ’¬ Edmore AI Assistant Popup -->
<div class="chat-popup" id="chatPopup" style="display: flex;">
  <div class="chat-header">
    <span>Edmore AI Assistant ğŸ¤–</span>
    <button id="closeChat">&times;</button>
  </div>

  <div class="chat-body" id="chatBody">
    <!-- Default welcome message -->
    <div class="assistant-msg">
      æ‚¨å¥½ï¼æ¬¢è¿å’¨è¯¢ <strong>Edmore Academy</strong> ğŸŒ¸<br><br>
      Welcome to <strong>Edmore Academy</strong>!<br>
      Weâ€™re here to help with <strong>courses</strong>, <strong>counseling</strong>, and <strong>admissions</strong>.<br><br>
      Our consultant is available <strong>Monâ€“Fri, 10AMâ€“12PM (PST)</strong>.<br>
      If we miss your message, you can reach us anytime at:<br>
      ğŸ“§ <a href="mailto:edmore.usoffice@gmail.com">edmore.usoffice@gmail.com</a><br>
      ğŸ“ <a href="tel:+16265038082">+1 626-503-8082</a>
    </div>

    <!-- QR code message -->
    <div class="assistant-msg">
      ğŸ“± Scan the QR code below to connect on WeChat:  
      <img src="wechat_qr.png" alt="WeChat QR" class="qr-code">
    </div>

    <!-- Suggested prompts -->
    <div class="suggestions">
      <button class="question">What courses do you offer?</button>
      <button class="question">How can I register?</button>
      <button class="question">Where are you located?</button>
    </div>
  </div>

  <div class="chat-input">
    <input type="text" id="userInput" placeholder="Type your message..." />
    <button id="sendBtn">Send</button>
  </div>
</div>


<script>
const chatBody = document.getElementById('chatBody');
const input = document.getElementById('userInput');
const sendBtn = document.getElementById('sendBtn');

// --- Helpers ---
function sendMessage(msg, sender = "user") {
  const div = document.createElement('div');
  div.className = sender === "user" ? "user-msg" : "assistant-msg";
  div.innerHTML = msg;
  chatBody.appendChild(div);
  chatBody.scrollTop = chatBody.scrollHeight;
}

// Smarter matching for common phrasings
function replyTo(raw) {
  const msg = raw.toLowerCase().trim();

  let reply;

  if (
    msg.includes("course") || msg.includes("class") || msg.includes("offer")
  ) {
    reply = `You can browse all offerings on the <a href="courses.html" target="_self"><strong>Courses</strong></a> page.<br>
    Popular classes: AP, English Writing, Algebra Iâ€“II, Geometry, Precalculus, TOEFL/IELTS, ISEE.`;
  } else if (
    msg.includes("register") || msg.includes("sign up") || msg.includes("enroll")
  ) {
    reply = `Two quick ways to register:<br>
    1) Go to the <a href="courses.html" target="_self"><strong>Courses</strong></a> page and choose a class.<br>
    2) Or leave us a message via the <a href="#contact"><strong>Contact Us</strong></a> form. <br>
    You can also email <a href="mailto:edmore.usoffice@gmail.com">edmore.usoffice@gmail.com</a> or call <a href="tel:+16265038082">+1&nbsp;626-503-8082</a>.`;
  } else if (
    msg.includes("where") && (msg.includes("located") || msg.includes("address"))
  ) {
    reply = `Edmore Academy<br>
    We have two convenient locations:<br>
    <strong>155 North Riverview Drive, Anaheim, CA 92808</strong><br><br>
    
    <strong>572 N Diamond Bar Blvd, Diamond Bar, CA 91765</strong><br>
    Website: <a href="https://edmoreacademy.com" target="_blank">edmoreacademy.com</a><br>
    Phone: <a href="tel:+16265038082">+1&nbsp;626-503-8082</a>`;
  } else if (msg.includes("contact")) {
    reply = `Best ways to reach us:<br>
    ğŸ“§ <a href="mailto:edmore.usoffice@gmail.com">edmore.usoffice@gmail.com</a><br>
    ğŸ“ <a href="tel:+16265038082">+1&nbsp;626-503-8082</a><br>
    Or use the <a href="#contact"><strong>Contact Us</strong></a> form below.`;
  } else {
    reply = `Iâ€™m happy to help! If you need detailed assistance, please email <a href="mailto:edmore.usoffice@gmail.com">edmore.usoffice@gmail.com</a> or call <a href="tel:+16265038082">+1&nbsp;626-503-8082</a>.`;
  }

  setTimeout(() => sendMessage(reply, "assistant"), 500);
}

// Send handlers
sendBtn.onclick = () => {
  const msg = input.value.trim();
  if (!msg) return;
  sendMessage(msg, "user");
  input.value = "";
  replyTo(msg);
};
input.addEventListener("keypress", e => { if (e.key === "Enter") sendBtn.click(); });

// Suggested question buttons
document.querySelectorAll(".question").forEach(btn => {
  btn.onclick = () => { sendMessage(btn.textContent, "user"); replyTo(btn.textContent); };
});

// Close chat
const closeBtn = document.getElementById("closeChat");
if (closeBtn) closeBtn.onclick = () => document.getElementById("chatPopup").style.display = "none";
</script>


<script>
// bilingual contact form -> mailto
document.getElementById('contactForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const first = document.getElementById('firstName').value || "";
  const last = document.getElementById('lastName').value || "";
  const email = document.getElementById('email').value || "";
  const occ = document.getElementById('occupation').value || "";
  const subj = document.getElementById('subject').value || "New Inquiry from Edmore Website";
  const msg = document.getElementById('message').value || "";

  const body = `Name/å§“å: ${first} ${last}%0D%0AEmail/é‚®ç®±: ${email}%0D%0AOccupation/èŒä¸š: ${occ}%0D%0A%0D%0AMessage/ç•™è¨€å†…å®¹:%0D%0A${encodeURIComponent(msg)}`;
  window.location.href = `mailto:edmore.usoffice@gmail.com?subject=${encodeURIComponent(subj)}&body=${body}`;
});
</script>


<script>
function toggleMenu() {
  document.querySelector(".nav-links").classList.toggle("show");
}
</script>

</body>
</html>
